(async function init(){ try{ const list=await apiListAccepted(); const cont=document.getElementById('acordadas_list'); if(!list.length){ cont.innerHTML='<div class="small">No hay ofertas acordadas</div>'; return; } let html='<table><thead><tr><th>Producto</th><th>Cantidad</th><th>Proveedor</th><th>Precio Proveedor</th><th>Precio Oferta Cliente</th><th>Contraoferta Proveedor</th></tr></thead><tbody>'; list.forEach(o=>{ html+=`<tr><td>${o.productName}</td><td>${o.quantity}</td><td>${o.provider?o.provider.name:'-'}</td><td>${o.price}</td><td>${o.precioOfertaCliente??'-'}</td><td>${o.contraOfertaProveedor??'-'}</td></tr>`; }); html+='</tbody></table>'; cont.innerHTML=html; }catch(e){ document.getElementById('acordadas_list').innerHTML=`<div class="error">${e.message}</div>`; } })();
